{"ast":null,"code":"var _jsxFileName = \"/Users/voidchaser/Projects/Finstagram/Venting/FrontEnd/client/src/components/myAccount.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport '../styles/posts.css';\nimport { Link } from 'react-router-dom';\nimport Settings from '../Images/Settings.png';\nexport default class Post extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      currentUser: [],\n      posts: [],\n      currentUserPosts: null,\n      settings: false\n    };\n\n    this.findMe = () => {\n      const OnlineUser = localStorage.getItem('username');\n\n      for (var x = 0; x < this.state.users.length; x++) {\n        // console.log( this.state.users[x])\n        if (this.state.users[x].username === OnlineUser) {\n          this.setState({\n            currentUser: this.state.users[x]\n          });\n        }\n      }\n    };\n\n    this.logout = () => {\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"jwt\");\n      localStorage.removeItem(\"username\");\n    };\n\n    this.toggleSettings = () => {\n      if (this.state.settings === false) {\n        this.setState({\n          settings: true\n        });\n      } else {\n        this.setState({\n          settings: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('jwt');\n    axios.get(\"http://localhost:3000/users\", {\n      headers: {\n        Authorization: token\n      }\n    }).then(res => {\n      this.setState({\n        users: res.data.users\n      });\n      this.findMe();\n    }).catch(error => console.error(error));\n    axios.get('http://localhost:3000/posts', {\n      headers: {\n        Authorization: token\n      }\n    }).then(res => {\n      const OnlineUser = localStorage.getItem('username');\n      const all = res.data;\n      const collective = [];\n\n      for (var x = 0; x < all.length; x++) {\n        if (all[x].username === OnlineUser) {\n          collective.push(all[x]);\n        }\n      }\n\n      this.state.currentUserPosts = {\n        collective\n      };\n    }).catch(error => console.error(error));\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"CurrentUser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"settingsButtonContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Settings,\n      className: \"settingsPicture\",\n      onClick: this.toggleSettings,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"profilepicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.state.currentUser.profileUrl === null ? React.createElement(\"img\", {\n      src: \"https://www.dts.edu/wp-content/uploads/sites/6/2018/04/Blank-Profile-Picture.jpg\",\n      alt: \"profile\",\n      classname: \"ProfilePicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: this.state.currentUser.profileUrl,\n      alt: \"profile\",\n      classname: \"ProfilePicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"userInfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Username:\"), \"   \", this.state.currentUser.username), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Bio:\"), \"   \", this.state.currentUser.bio)), this.state.settings === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Link, {\n      exact: true,\n      to: \"/Edit/\".concat(this.state.currentUser.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Edit Profile\")), React.createElement(Link, {\n      exact: true,\n      to: \"/\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Logout\"), \" \")) : null));\n  }\n\n}","map":{"version":3,"sources":["/Users/voidchaser/Projects/Finstagram/Venting/FrontEnd/client/src/components/myAccount.js"],"names":["React","axios","Link","Settings","Post","Component","state","users","currentUser","posts","currentUserPosts","settings","findMe","OnlineUser","localStorage","getItem","x","length","username","setState","logout","removeItem","toggleSettings","componentDidMount","token","get","headers","Authorization","then","res","data","catch","error","console","all","collective","push","render","profileUrl","bio","id"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport axios from 'axios';\nimport '../styles/posts.css'\nimport { Link } from 'react-router-dom';\nimport Settings from '../Images/Settings.png'\n\nexport default class Post extends React.Component {\n    state = {\n        users: [],\n        currentUser: [],\n        posts: [],\n        currentUserPosts: null,\n        settings: false\n    };\n\n    componentDidMount() {\n        const token = localStorage.getItem( 'jwt' )\n        axios\n            .get(`http://localhost:3000/users` , { headers: { Authorization: token }} )\n            .then(res => {\n                this.setState({\n                    users: res.data.users\n                });\n                this.findMe()\n\n            })\n            .catch(error => console.error(error));\n\n\n        axios\n            .get('http://localhost:3000/posts' , { headers: { Authorization: token } })\n            .then(res => {\n                const OnlineUser = localStorage.getItem( 'username' )\n                const all = res.data\n                const collective = []\n                for ( var x = 0; x < all.length; x++ ) {\n                    if ( all[x].username === OnlineUser ) {\n                        collective.push(all[x])\n                    }\n                }\n                this.state.currentUserPosts = { collective }\n            })\n            .catch(error => console.error(error));\n    }\n\n    findMe = () => {\n        const OnlineUser = localStorage.getItem( 'username' )\n        for ( var x = 0; x < this.state.users.length; x++ ) {\n            // console.log( this.state.users[x])\n            if ( this.state.users[x].username === OnlineUser ) {\n                this.setState({ currentUser: this.state.users[x] })\n            }\n        }\n    }\n\n    logout = () => {\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"jwt\");\n        localStorage.removeItem(\"username\");\n    };\n\n    toggleSettings = () => {\n        if ( this.state.settings === false ) {\n            this.setState({ settings: true })\n        } else {\n            this.setState({ settings: false })\n        }\n    }\n\n    render() {\n        return (\n            <> \n                <div className = 'CurrentUser'>\n                    <div className = 'settingsButtonContainer'>\n                        <img src = {Settings} className = 'settingsPicture' onClick = {this.toggleSettings}/>\n                    </div>\n                    <div className = 'profilepicture'>\n                        { this.state.currentUser.profileUrl === null ? <img src = \"https://www.dts.edu/wp-content/uploads/sites/6/2018/04/Blank-Profile-Picture.jpg\" alt = 'profile' classname = \"ProfilePicture\"/> : ( <img src = {this.state.currentUser.profileUrl} alt = 'profile' classname = \"ProfilePicture\"/> ) }\n                    </div>\n                    <div className = 'userInfo'>\n                        <p><strong>Username:</strong>   {this.state.currentUser.username}</p>\n                        <p><strong>Bio:</strong>   {this.state.currentUser.bio}</p>\n                    </div>\n                    { this.state.settings === true ? (\n                        <div>\n                            <Link exact to = {`/Edit/${this.state.currentUser.id}`}><button>Edit Profile</button></Link>\n                            <Link exact to = '/' onClick = { this.logout }> <button>Logout</button> </Link>\n                        </div>\n                    ) : null }\n                </div>\n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}