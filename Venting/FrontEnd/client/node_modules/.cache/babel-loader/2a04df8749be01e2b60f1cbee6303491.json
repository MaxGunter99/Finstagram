{"ast":null,"code":"var _jsxFileName = \"/Users/voidchaser/Projects/Finstagram/Venting/FrontEnd/client/src/components/myAccount.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport '../styles/posts.css';\nimport { Link } from 'react-router-dom';\nexport default class Post extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      currentUser: [],\n      posts: [],\n      currentUserPosts: null\n    };\n\n    this.findMe = () => {\n      const OnlineUser = localStorage.getItem('username');\n\n      for (var x = 0; x < this.state.users.length; x++) {\n        // console.log( this.state.users[x])\n        if (this.state.users[x].username === OnlineUser) {\n          this.setState({\n            currentUser: this.state.users[x]\n          });\n        }\n      }\n    };\n\n    this.logout = () => {\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"jwt\");\n      localStorage.removeItem(\"username\");\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('jwt');\n    axios.get(\"http://localhost:3000/users\", {\n      headers: {\n        Authorization: token\n      }\n    }).then(res => {\n      this.setState({\n        users: res.data.users\n      });\n      this.findMe();\n    }).catch(error => console.error(error));\n    axios.get('http://localhost:3000/posts', {\n      headers: {\n        Authorization: token\n      }\n    }).then(res => {\n      const OnlineUser = localStorage.getItem('username');\n      const all = res.data;\n      const collective = [];\n\n      for (var x = 0; x < all.length; x++) {\n        if (all[x].username === OnlineUser) {\n          collective.push(all[x]);\n        }\n      }\n\n      this.state.currentUserPosts = {\n        collective\n      };\n    }).catch(error => console.error(error));\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"CurrentUser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profilepicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.currentUser.profileUrl === null ? React.createElement(\"img\", {\n      src: \"https://www.dts.edu/wp-content/uploads/sites/6/2018/04/Blank-Profile-Picture.jpg\",\n      alt: \"profile\",\n      classname: \"ProfilePicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: this.state.currentUser.profileUrl,\n      alt: \"profile\",\n      classname: \"ProfilePicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"userInfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Username:\"), \"   \", this.state.currentUser.username), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Bio:\"), \"   \", this.state.currentUser.bio)), React.createElement(Link, {\n      exact: true,\n      to: \"/Edit/\".concat(this.state.currentUser.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Edit Profile\")), React.createElement(Link, {\n      exact: true,\n      to: \"/\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Logout\"), \" \")));\n  }\n\n}","map":{"version":3,"sources":["/Users/voidchaser/Projects/Finstagram/Venting/FrontEnd/client/src/components/myAccount.js"],"names":["React","axios","Link","Post","Component","state","users","currentUser","posts","currentUserPosts","findMe","OnlineUser","localStorage","getItem","x","length","username","setState","logout","removeItem","componentDidMount","token","get","headers","Authorization","then","res","data","catch","error","console","all","collective","push","render","profileUrl","bio","id"],"mappings":"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","sourcesContent":["\n\n\nimport React from \"react\";\nimport axios from 'axios';\nimport '../styles/posts.css'\nimport { Link } from 'react-router-dom';\n\nexport default class Post extends React.Component {\n    state = {\n        users: [],\n        currentUser: [],\n        posts: [],\n        currentUserPosts: null\n    };\n\n    componentDidMount() {\n        const token = localStorage.getItem( 'jwt' )\n        axios\n            .get(`http://localhost:3000/users` , { headers: { Authorization: token }} )\n            .then(res => {\n                this.setState({\n                    users: res.data.users\n                });\n                this.findMe()\n\n            })\n            .catch(error => console.error(error));\n\n\n        axios\n            .get('http://localhost:3000/posts' , { headers: { Authorization: token } })\n            .then(res => {\n                const OnlineUser = localStorage.getItem( 'username' )\n                const all = res.data\n                const collective = []\n                for ( var x = 0; x < all.length; x++ ) {\n                    if ( all[x].username === OnlineUser ) {\n                        collective.push(all[x])\n                    }\n                }\n                this.state.currentUserPosts = { collective }\n            })\n            .catch(error => console.error(error));\n    }\n\n    findMe = () => {\n        const OnlineUser = localStorage.getItem( 'username' )\n        for ( var x = 0; x < this.state.users.length; x++ ) {\n            // console.log( this.state.users[x])\n            if ( this.state.users[x].username === OnlineUser ) {\n                this.setState({ currentUser: this.state.users[x] })\n            }\n        }\n    }\n\n    logout = () => {\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"jwt\");\n        localStorage.removeItem(\"username\");\n    };\n\n    render() {\n        return (\n            <> \n                <div className = 'CurrentUser'>\n                    <div className = 'profilepicture'>\n                        { this.state.currentUser.profileUrl === null ? <img src = \"https://www.dts.edu/wp-content/uploads/sites/6/2018/04/Blank-Profile-Picture.jpg\" alt = 'profile' classname = \"ProfilePicture\"/> : ( <img src = {this.state.currentUser.profileUrl} alt = 'profile' classname = \"ProfilePicture\"/> ) }\n                    </div>\n                    <div className = 'userInfo'>\n                        <p><strong>Username:</strong>   {this.state.currentUser.username}</p>\n                        <p><strong>Bio:</strong>   {this.state.currentUser.bio}</p>\n                    </div>\n                    <Link exact to = {`/Edit/${this.state.currentUser.id}`}><button>Edit Profile</button></Link>\n                    <Link exact to = '/' onClick = { this.logout }> <button>Logout</button> </Link>\n                </div>\n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}